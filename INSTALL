How to get HIPL
===============

The latest version of HIPL is always available through Bazaar (version 1.6 or
later required). Run the command

  bzr checkout http://hipl.hiit.fi/hipl/hipl-bzr/trunk

to get an anonymous read-only checkout or

  bzr checkout bzr+ssh://hipl.hiit.fi/var/archive/hipl-bzr/trunk

if you are a developer with an ssh account on the server.


HIPL dependencies
=================

HIPL places certain requirements on your kernel. Starting from Linux kernel
version 2.6.27, no changes are necessary. If you run an older version, look
at the patches/kernel directory to find patches for your Linux kernel version.
Alternatively, you can use userspace ipsec as provided by hipfw. If you want
to use the optional native programming interface, you need to patch your kernel
anyway.

In order to compile HIPL you need autotools (autoconf, automake, libtool), GNU
Make and gcc. openssl, iptables, libcap and libconfig are required complete
with development headers. For Perl, Socket6, IO::Socket::INET6, Net::IP and
Net::DNS modules are required. You can optionally install xmlto to
build the HOWTO and doxygen to build the code documentation.

On Ubuntu, the following command(s) should solve the dependencies:

  aptitude install automake autoconf libtool gcc libssl-dev \
    iptables-dev libcap-dev libnet-ip-perl libnet-dns-perl \
    libsocket6-perl libio-socket-inet6-perl

  Optionally: aptitude install pax miredo bzr xmlto doxygen

On Fedora, the following command(s) should solve the dependencies:

  yum install gcc openssl-devel autoconf automake libtool \
              iptables-devel libcap-devel rpm-build \
              perl-Net-IP perl-Net-DNS perl-Socket6 perl-IO-Socket-INET6

  Optionally: yum install miredo bzr xmlto doxygen

How to build HIPL
=================

If you are working with a Bazaar checkout, you will have to bootstrap the
autotools build system with

  autoreconf --install

before running configure. On subsequent times, you don't have give the
install option.

From the trunk directory in the HIPL sources, run the following command to
build HIPL:

  ./configure && make

./configure --help will display the multitude of configuration options
available for HIPL.

To keep the developers sharp and honest HIPL is built with -Werror in CFLAGS.
gcc will just error out when issuing a warning. If you experience compilation
failures and just need to get HIPL to build on a combination of platform and
compiler that does produce warnings, you can override -Werror as follows:

  CFLAGS=-Wno-error ./configure

Then run make as usual.
